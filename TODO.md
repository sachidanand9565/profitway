- [x] Add sponsor_code and referral_code columns to users table in database_migration.sql
- [x] Modify src/app/api/purchases/route.js to use sponsor_code from checkout and generate referral_code ("PW" + 8 random alphanumeric characters) for new users
- [x] Update src/app/api/auth/login/route.js to include sponsor_code and referral_code in user data response
- [x] Run the updated database migration to add the sponsor_code and referral_code columns
- [x] Test the approval process to ensure sponsor code is used from checkout and referral code is generated and stored
